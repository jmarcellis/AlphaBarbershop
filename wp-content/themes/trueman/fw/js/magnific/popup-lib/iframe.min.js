var IFRAME_NS="iframe",_emptyPage="//about:blank",_fixIframeBugs=function(a){if(mfp.currTemplate[IFRAME_NS]){var b=mfp.currTemplate[IFRAME_NS].find("iframe");if(b.length){if(!a){b[0].src=_emptyPage}if(mfp.isIE8){b.css("display",a?"block":"none")}}}};$.magnificPopup.registerModule(IFRAME_NS,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){mfp.types.push(IFRAME_NS);_mfpOn("BeforeChange",function(c,a,b){if(a!==b){if(a===IFRAME_NS){_fixIframeBugs()}else{if(b===IFRAME_NS){_fixIframeBugs(true)}}}});_mfpOn(CLOSE_EVENT+"."+IFRAME_NS,function(){_fixIframeBugs()})},getIframe:function(e,d){var a=e.src;var c=mfp.st.iframe;$.each(c.patterns,function(){if(a.indexOf(this.index)>-1){if(this.id){if(typeof this.id==="string"){a=a.substr(a.lastIndexOf(this.id)+this.id.length,a.length)}else{a=this.id.call(this,a)}}a=this.src.replace("%id%",a);return false}});var b={};if(c.srcAction){b[c.srcAction]=a}mfp._parseMarkup(d,b,e);mfp.updateStatus("ready");return d}}});