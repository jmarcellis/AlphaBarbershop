var CLOSE_EVENT="Close",BEFORE_CLOSE_EVENT="BeforeClose",AFTER_CLOSE_EVENT="AfterClose",BEFORE_APPEND_EVENT="BeforeAppend",MARKUP_PARSE_EVENT="MarkupParse",OPEN_EVENT="Open",CHANGE_EVENT="Change",NS="mfp",EVENT_NS="."+NS,READY_CLASS="mfp-ready",REMOVING_CLASS="mfp-removing",PREVENT_CLOSE_CLASS="mfp-prevent-close";var mfp,MagnificPopup=function(){},_isJQ=!!(window.jQuery),_prevStatus,_window=$(window),_body,_document,_prevContentType,_wrapClasses,_currPopupType;var _mfpOn=function(a,b){mfp.ev.on(NS+a+EVENT_NS,b)},_getEl=function(e,b,c,a){var d=document.createElement("div");d.className="mfp-"+e;if(c){d.innerHTML=c}if(!a){d=$(d);if(b){d.appendTo(b)}}else{if(b){b.appendChild(d)}}return d},_mfpTrigger=function(b,a){mfp.ev.triggerHandler(NS+b,a);if(mfp.st.callbacks){b=b.charAt(0).toLowerCase()+b.slice(1);if(mfp.st.callbacks[b]){mfp.st.callbacks[b].apply(mfp,$.isArray(a)?a:[a])}}},_getCloseBtn=function(a){if(a!==_currPopupType||!mfp.currTemplate.closeBtn){mfp.currTemplate.closeBtn=$(mfp.st.closeMarkup.replace("%title%",mfp.st.tClose));_currPopupType=a}return mfp.currTemplate.closeBtn},_checkInstance=function(){if(!$.magnificPopup.instance){mfp=new MagnificPopup();mfp.init();$.magnificPopup.instance=mfp}},supportsTransitions=function(){var b=document.createElement("p").style,a=["ms","O","Moz","Webkit"];if(b.transition!==undefined){return true}while(a.length){if(a.pop()+"Transition" in b){return true}}return false};MagnificPopup.prototype={constructor:MagnificPopup,init:function(){var a=navigator.appVersion;mfp.isIE7=a.indexOf("MSIE 7.")!==-1;mfp.isIE8=a.indexOf("MSIE 8.")!==-1;mfp.isLowIE=mfp.isIE7||mfp.isIE8;mfp.isAndroid=(/android/gi).test(a);mfp.isIOS=(/iphone|ipad|ipod/gi).test(a);mfp.supportsTransition=supportsTransitions();mfp.probablyMobile=(mfp.isAndroid||mfp.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent));_document=$(document);mfp.popupsCache={}},open:function(f){if(!_body){_body=$(document.body)}var g;if(f.isObj===false){mfp.items=f.items.toArray();mfp.index=0;var h=f.items,j;for(g=0;g<h.length;g++){j=h[g];if(j.parsed){j=j.el[0]}if(j===f.el[0]){mfp.index=g;break}}}else{mfp.items=$.isArray(f.items)?f.items:[f.items];mfp.index=f.index||0}if(mfp.isOpen){mfp.updateItemHTML();return}mfp.types=[];_wrapClasses="";if(f.mainEl&&f.mainEl.length){mfp.ev=f.mainEl.eq(0)}else{mfp.ev=_document}if(f.key){if(!mfp.popupsCache[f.key]){mfp.popupsCache[f.key]={}}mfp.currTemplate=mfp.popupsCache[f.key]}else{mfp.currTemplate={}}mfp.st=$.extend(true,{},$.magnificPopup.defaults,f);mfp.fixedContentPos=mfp.st.fixedContentPos==="auto"?!mfp.probablyMobile:mfp.st.fixedContentPos;if(mfp.st.modal){mfp.st.closeOnContentClick=false;mfp.st.closeOnBgClick=false;mfp.st.showCloseBtn=false;mfp.st.enableEscapeKey=false}if(!mfp.bgOverlay){mfp.bgOverlay=_getEl("bg").on("click"+EVENT_NS,function(){mfp.close()});mfp.wrap=_getEl("wrap").attr("tabindex",-1).on("click"+EVENT_NS,function(i){if(mfp._checkIfClose(i.target)){mfp.close()}});mfp.container=_getEl("container",mfp.wrap)}mfp.contentContainer=_getEl("content");if(mfp.st.preloader){mfp.preloader=_getEl("preloader",mfp.container,mfp.st.tLoading)}var e=$.magnificPopup.modules;for(g=0;g<e.length;g++){var d=e[g];d=d.charAt(0).toUpperCase()+d.slice(1);mfp["init"+d].call(mfp)}_mfpTrigger("BeforeOpen");if(mfp.st.showCloseBtn){if(!mfp.st.closeBtnInside){mfp.wrap.append(_getCloseBtn())}else{_mfpOn(MARKUP_PARSE_EVENT,function(n,l,i,m){i.close_replaceWith=_getCloseBtn(m.type)});_wrapClasses+=" mfp-close-btn-in"}}if(mfp.st.alignTop){_wrapClasses+=" mfp-align-top"}if(mfp.fixedContentPos){mfp.wrap.css({overflow:mfp.st.overflowY,overflowX:"hidden",overflowY:mfp.st.overflowY})}else{mfp.wrap.css({top:_window.scrollTop(),position:"absolute"})}if(mfp.st.fixedBgPos===false||(mfp.st.fixedBgPos==="auto"&&!mfp.fixedContentPos)){mfp.bgOverlay.css({height:_document.height(),position:"absolute"})}if(mfp.st.enableEscapeKey){_document.on("keyup"+EVENT_NS,function(i){if(i.keyCode===27){mfp.close()}})}_window.on("resize"+EVENT_NS,function(){mfp.updateSize()});if(!mfp.st.closeOnContentClick){_wrapClasses+=" mfp-auto-cursor"}if(_wrapClasses){mfp.wrap.addClass(_wrapClasses)}var a=mfp.wH=_window.height();var c={};if(mfp.fixedContentPos){if(mfp._hasScrollBar(a)){var k=mfp._getScrollbarSize();if(k){c.marginRight=k}}}if(mfp.fixedContentPos){if(!mfp.isIE7){c.overflow="hidden"}else{$("body, html").css("overflow","hidden")}}var b=mfp.st.mainClass;if(mfp.isIE7){b+=" mfp-ie7"}if(b){mfp._addClassToMFP(b)}mfp.updateItemHTML();_mfpTrigger("BuildControls");$("html").css(c);mfp.bgOverlay.add(mfp.wrap).prependTo(mfp.st.prependTo||_body);mfp._lastFocusedEl=document.activeElement;setTimeout(function(){if(mfp.content){mfp._addClassToMFP(READY_CLASS);mfp._setFocus()}else{mfp.bgOverlay.addClass(READY_CLASS)}_document.on("focusin"+EVENT_NS,mfp._onFocusIn)},16);mfp.isOpen=true;mfp.updateSize(a);_mfpTrigger(OPEN_EVENT);return f},close:function(){if(!mfp.isOpen){return}_mfpTrigger(BEFORE_CLOSE_EVENT);mfp.isOpen=false;if(mfp.st.removalDelay&&!mfp.isLowIE&&mfp.supportsTransition){mfp._addClassToMFP(REMOVING_CLASS);setTimeout(function(){mfp._close()},mfp.st.removalDelay)}else{mfp._close()}},_close:function(){_mfpTrigger(CLOSE_EVENT);var a=REMOVING_CLASS+" "+READY_CLASS+" ";mfp.bgOverlay.detach();mfp.wrap.detach();mfp.container.empty();if(mfp.st.mainClass){a+=mfp.st.mainClass+" "}mfp._removeClassFromMFP(a);if(mfp.fixedContentPos){var b={marginRight:""};if(mfp.isIE7){$("body, html").css("overflow","")}else{b.overflow=""}$("html").css(b)}_document.off("keyup"+EVENT_NS+" focusin"+EVENT_NS);mfp.ev.off(EVENT_NS);mfp.wrap.attr("class","mfp-wrap").removeAttr("style");mfp.bgOverlay.attr("class","mfp-bg");mfp.container.attr("class","mfp-container");if(mfp.st.showCloseBtn&&(!mfp.st.closeBtnInside||mfp.currTemplate[mfp.currItem.type]===true)){if(mfp.currTemplate.closeBtn){mfp.currTemplate.closeBtn.detach()}}if(mfp._lastFocusedEl){$(mfp._lastFocusedEl).focus()}mfp.currItem=null;mfp.content=null;mfp.currTemplate=null;mfp.prevHeight=0;_mfpTrigger(AFTER_CLOSE_EVENT)},updateSize:function(b){if(mfp.isIOS){var c=document.documentElement.clientWidth/window.innerWidth;var a=window.innerHeight*c;mfp.wrap.css("height",a);mfp.wH=a}else{mfp.wH=b||_window.height()}if(!mfp.fixedContentPos){mfp.wrap.css("height",mfp.wH)}_mfpTrigger("Resize")},updateItemHTML:function(){var d=mfp.items[mfp.index];mfp.contentContainer.detach();if(mfp.content){mfp.content.detach()}if(!d.parsed){d=mfp.parseEl(mfp.index)}var c=d.type;_mfpTrigger("BeforeChange",[mfp.currItem?mfp.currItem.type:"",c]);mfp.currItem=d;if(!mfp.currTemplate[c]){var b=mfp.st[c]?mfp.st[c].markup:false;_mfpTrigger("FirstMarkupParse",b);if(b){mfp.currTemplate[c]=$(b)}else{mfp.currTemplate[c]=true}}if(_prevContentType&&_prevContentType!==d.type){mfp.container.removeClass("mfp-"+_prevContentType+"-holder")}var a=mfp["get"+c.charAt(0).toUpperCase()+c.slice(1)](d,mfp.currTemplate[c]);mfp.appendContent(a,c);d.preloaded=true;_mfpTrigger(CHANGE_EVENT,d);_prevContentType=d.type;mfp.container.prepend(mfp.contentContainer);_mfpTrigger("AfterChange")},appendContent:function(a,b){mfp.content=a;if(a){if(mfp.st.showCloseBtn&&mfp.st.closeBtnInside&&mfp.currTemplate[b]===true){if(!mfp.content.find(".mfp-close").length){mfp.content.append(_getCloseBtn())}}else{mfp.content=a}}else{mfp.content=""}_mfpTrigger(BEFORE_APPEND_EVENT);mfp.container.addClass("mfp-"+b+"-holder");mfp.contentContainer.append(mfp.content)},parseEl:function(a){var e=mfp.items[a],d;if(e.tagName){e={el:$(e)}}else{d=e.type;e={data:e,src:e.src}}if(e.el){var c=mfp.types;for(var b=0;b<c.length;b++){if(e.el.hasClass("mfp-"+c[b])){d=c[b];break}}e.src=e.el.attr("data-mfp-src");if(!e.src){e.src=e.el.attr("href")}}e.type=d||mfp.st.type||"inline";e.index=a;e.parsed=true;mfp.items[a]=e;_mfpTrigger("ElementParse",e);return mfp.items[a]},addGroup:function(c,b){var d=function(f){f.mfpEl=this;mfp._openClick(f,c,b)};if(!b){b={}}var a="click.magnificPopup";b.mainEl=c;if(b.items){b.isObj=true;c.off(a).on(a,d)}else{b.isObj=false;if(b.delegate){c.off(a).on(a,b.delegate,d)}else{b.items=c;c.off(a).on(a,d)}}},_openClick:function(f,c,a){var b=a.midClick!==undefined?a.midClick:$.magnificPopup.defaults.midClick;if(!b&&(f.which===2||f.ctrlKey||f.metaKey)){return}var d=a.disableOn!==undefined?a.disableOn:$.magnificPopup.defaults.disableOn;if(d){if($.isFunction(d)){if(!d.call(mfp)){return true}}else{if(_window.width()<d){return true}}}if(f.type){f.preventDefault();if(mfp.isOpen){f.stopPropagation()}}a.el=$(f.mfpEl);if(a.delegate){a.items=c.find(a.delegate)}mfp.open(a)},updateStatus:function(a,c){if(mfp.preloader){if(_prevStatus!==a){mfp.container.removeClass("mfp-s-"+_prevStatus)}if(!c&&a==="loading"){c=mfp.st.tLoading}var b={status:a,text:c};_mfpTrigger("UpdateStatus",b);a=b.status;c=b.text;mfp.preloader.html(c);mfp.preloader.find("a").on("click",function(d){d.stopImmediatePropagation()});mfp.container.addClass("mfp-s-"+a);_prevStatus=a}},_checkIfClose:function(c){if($(c).hasClass(PREVENT_CLOSE_CLASS)){return}var a=mfp.st.closeOnContentClick;var b=mfp.st.closeOnBgClick;if(a&&b){return true}else{if(!mfp.content||$(c).hasClass("mfp-close")||(mfp.preloader&&c===mfp.preloader[0])){return true}if((c!==mfp.content[0]&&!$.contains(mfp.content[0],c))){if(b){if($.contains(document,c)){return true}}}else{if(a){return true}}}return false},_addClassToMFP:function(a){mfp.bgOverlay.addClass(a);mfp.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a);mfp.wrap.removeClass(a)},_hasScrollBar:function(a){return((mfp.isIE7?_document.height():document.body.scrollHeight)>(a||_window.height()))},_setFocus:function(){(mfp.st.focus?mfp.content.find(mfp.st.focus).eq(0):mfp.wrap).focus()},_onFocusIn:function(a){if(a.target!==mfp.wrap[0]&&!$.contains(mfp.wrap[0],a.target)){mfp._setFocus();return false}},_parseMarkup:function(c,b,d){var a;if(d.data){b=$.extend(d.data,b)}_mfpTrigger(MARKUP_PARSE_EVENT,[c,b,d]);$.each(b,function(f,h){if(h===undefined||h===false){return true}a=f.split("_");if(a.length>1){var g=c.find(EVENT_NS+"-"+a[0]);if(g.length>0){var e=a[1];if(e==="replaceWith"){if(g[0]!==h[0]){g.replaceWith(h)}}else{if(e==="img"){if(g.is("img")){g.attr("src",h)}else{g.replaceWith('<img src="'+h+'" class="'+g.attr("class")+'" />')}}else{g.attr(a[1],h)}}}}else{c.find(EVENT_NS+"-"+f).html(h)}})},_getScrollbarSize:function(){if(mfp.scrollbarSize===undefined){var a=document.createElement("div");a.id="mfp-sbm";a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(a);mfp.scrollbarSize=a.offsetWidth-a.clientWidth;document.body.removeChild(a)}return mfp.scrollbarSize}};$.magnificPopup={instance:null,proto:MagnificPopup.prototype,modules:[],open:function(b,a){_checkInstance();if(!b){b={}}else{b=$.extend(true,{},b)}b.isObj=true;b.index=a||0;return this.instance.open(b)},close:function(){return $.magnificPopup.instance&&$.magnificPopup.instance.close()},registerModule:function(a,b){if(b.options){$.magnificPopup.defaults[a]=b.options}$.extend(this.proto,b.proto);this.modules.push(a)},defaults:{disableOn:0,key:null,midClick:false,mainClass:"",preloader:true,focus:"",closeOnContentClick:false,closeOnBgClick:true,closeBtnInside:true,showCloseBtn:true,enableEscapeKey:true,modal:false,alignTop:false,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}};$.fn.magnificPopup=function(c){_checkInstance();var d=$(this);if(typeof c==="string"){if(c==="open"){var a,e=_isJQ?d.data("magnificPopup"):d[0].magnificPopup,b=parseInt(arguments[1],10)||0;if(e.items){a=e.items[b]}else{a=d;if(e.delegate){a=a.find(e.delegate)}a=a.eq(b)}mfp._openClick({mfpEl:a},d,e)}else{if(mfp.isOpen){mfp[c].apply(mfp,Array.prototype.slice.call(arguments,1))}}}else{c=$.extend(true,{},c);if(_isJQ){d.data("magnificPopup",c)}else{d[0].magnificPopup=c}mfp.addGroup(d,c)}return d};