var AJAX_NS="ajax",_ajaxCur,_removeAjaxCursor=function(){if(_ajaxCur){_body.removeClass(_ajaxCur)}},_destroyAjaxRequest=function(){_removeAjaxCursor();if(mfp.req){mfp.req.abort()}};$.magnificPopup.registerModule(AJAX_NS,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){mfp.types.push(AJAX_NS);_ajaxCur=mfp.st.ajax.cursor;_mfpOn(CLOSE_EVENT+"."+AJAX_NS,_destroyAjaxRequest);_mfpOn("BeforeChange."+AJAX_NS,_destroyAjaxRequest)},getAjax:function(b){if(_ajaxCur){_body.addClass(_ajaxCur)}mfp.updateStatus("loading");var a=$.extend({url:b.src,success:function(e,f,d){var c={data:e,xhr:d};_mfpTrigger("ParseAjax",c);mfp.appendContent($(c.data),AJAX_NS);b.finished=true;_removeAjaxCursor();mfp._setFocus();setTimeout(function(){mfp.wrap.addClass(READY_CLASS)},16);mfp.updateStatus("ready");_mfpTrigger("AjaxContentAdded")},error:function(){_removeAjaxCursor();b.finished=b.loadError=true;mfp.updateStatus("error",mfp.st.ajax.tError.replace("%url%",b.src))}},mfp.st.ajax.settings);mfp.req=$.ajax(a);return""}}});