var hasMozTransform,getHasMozTransform=function(){if(hasMozTransform===undefined){hasMozTransform=document.createElement("p").style.MozTransform!==undefined}return hasMozTransform};$.magnificPopup.registerModule("zoom",{options:{enabled:false,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var b=mfp.st.zoom,e=".zoom",h;if(!b.enabled||!mfp.supportsTransition){return}var g=b.duration,f=function(k){var j=k.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),l="all "+(b.duration/1000)+"s "+b.easing,m={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},i="transition";m["-webkit-"+i]=m["-moz-"+i]=m["-o-"+i]=m[i]=l;j.css(m);return j},a=function(){mfp.content.css("visibility","visible")},c,d;_mfpOn("BuildControls"+e,function(){if(mfp._allowZoom()){clearTimeout(c);mfp.content.css("visibility","hidden");h=mfp._getItemToZoom();if(!h){a();return}d=f(h);d.css(mfp._getOffset());mfp.wrap.append(d);c=setTimeout(function(){d.css(mfp._getOffset(true));c=setTimeout(function(){a();setTimeout(function(){d.remove();h=d=null;_mfpTrigger("ZoomAnimationEnded")},16)},g)},16)}});_mfpOn(BEFORE_CLOSE_EVENT+e,function(){if(mfp._allowZoom()){clearTimeout(c);mfp.st.removalDelay=g;if(!h){h=mfp._getItemToZoom();if(!h){return}d=f(h)}d.css(mfp._getOffset(true));mfp.wrap.append(d);mfp.content.css("visibility","hidden");setTimeout(function(){d.css(mfp._getOffset())},16)}});_mfpOn(CLOSE_EVENT+e,function(){if(mfp._allowZoom()){a();if(d){d.remove()}h=null}})},_allowZoom:function(){return mfp.currItem.type==="image"},_getItemToZoom:function(){if(mfp.currItem.hasSize){return mfp.currItem.img}else{return false}},_getOffset:function(c){var a;if(c){a=mfp.currItem.img}else{a=mfp.st.zoom.opener(mfp.currItem.el||mfp.currItem)}var f=a.offset();var b=parseInt(a.css("padding-top"),10);var e=parseInt(a.css("padding-bottom"),10);f.top-=($(window).scrollTop()-b);var d={width:a.width(),height:(_isJQ?a.innerHeight():a[0].offsetHeight)-e-b};if(getHasMozTransform()){d["-moz-transform"]=d.transform="translate("+f.left+"px,"+f.top+"px)"}else{d.left=f.left;d.top=f.top}return d}}});