/*!
 * pickadate.js v3.5.4, 2014/09/11
 * By Amsul, http://amsul.ca
 * Hosted on http://amsul.github.io/pickadate.js
 * Licensed under MIT
 */
(function(a){if(typeof define=="function"&&define.amd){define("picker",["jquery"],a)}else{if(typeof exports=="object"){module.exports=a(require("jquery"))}else{this.Picker=a(jQuery)}}}(function(f){var a=f(window);var d=f(document);var e=f(document.documentElement);function g(w,z,k,p){if(!w){return g}var v=false,u={id:w.id||"P"+Math.abs(~~(Math.random()*new Date()))},s=k?f.extend(true,{},k.defaults,p):p||{},r=f.extend({},g.klasses(),s.klass),m=f(w),l=function(){return this.start()},q=l.prototype={constructor:l,$node:m,start:function(){if(u&&u.start){return q}u.methods={};u.start=true;u.open=false;u.type=w.type;w.autofocus=w==document.activeElement;w.readOnly=!s.editable;w.id=w.id||u.id;if(w.type!="text"){w.type="text"}q.component=new k(q,s);q.$root=f(g._.node("div",t(),r.picker,'id="'+w.id+'_root"'));o();if(s.formatSubmit){x()}n();if(s.container){f(s.container).append(q.$root)}else{m.after(q.$root)}q.on({start:q.component.onStart,render:q.component.onRender,stop:q.component.onStop,open:q.component.onOpen,close:q.component.onClose,set:q.component.onSet}).on({start:s.onStart,render:s.onRender,stop:s.onStop,open:s.onOpen,close:s.onClose,set:s.onSet});v=i(q.$root.children()[0]);if(w.autofocus){q.open()}return q.trigger("start").trigger("render")},render:function(A){if(A){q.$root.html(t())}else{q.$root.find("."+r.box).html(q.component.nodes(u.open))}return q.trigger("render")},stop:function(){if(!u.start){return q}q.close();if(q._hidden){q._hidden.parentNode.removeChild(q._hidden)}q.$root.remove();m.removeClass(r.input).removeData(z);setTimeout(function(){m.off("."+u.id)},0);w.type=u.type;w.readOnly=false;q.trigger("stop");u.methods={};u.start=false;return q},open:function(A){if(u.open){return q}m.addClass(r.active);h(w,"expanded",true);setTimeout(function(){q.$root.addClass(r.opened);h(q.$root[0],"hidden",false)},0);if(A!==false){u.open=true;if(v){e.css("overflow","hidden").css("padding-right","+="+c())}m.trigger("focus");d.on("click."+u.id+" focusin."+u.id,function(B){var C=B.target;if(C!=w&&C!=document&&B.which!=3){q.close(C===q.$root.children()[0])}}).on("keydown."+u.id,function(C){var B=C.keyCode,D=q.component.key[B],E=C.target;if(B==27){q.close(true)}else{if(E==w&&(D||B==13)){C.preventDefault();if(D){g._.trigger(q.component.key.go,q,[g._.trigger(D)])}else{if(!q.$root.find("."+r.highlighted).hasClass(r.disabled)){q.set("select",q.component.item.highlight).close()}}}else{if(f.contains(q.$root[0],E)&&B==13){C.preventDefault();E.click()}}}})}return q.trigger("open")},close:function(A){if(A){m.off("focus."+u.id).trigger("focus");setTimeout(function(){m.on("focus."+u.id,y)},0)}m.removeClass(r.active);h(w,"expanded",false);setTimeout(function(){q.$root.removeClass(r.opened+" "+r.focused);h(q.$root[0],"hidden",true)},0);if(!u.open){return q}u.open=false;if(v){e.css("overflow","").css("padding-right","-="+c())}d.off("."+u.id);return q.trigger("close")},clear:function(A){return q.set("clear",null,A)},set:function(C,E,B){var G,F,D=f.isPlainObject(C),A=D?C:{};B=D&&f.isPlainObject(E)?E:B||{};if(C){if(!D){A[C]=E}for(G in A){F=A[G];if(G in q.component.item){if(F===undefined){F=null}q.component.set(G,F,B)}if(G=="select"||G=="clear"){m.val(G=="clear"?"":q.get(G,s.format)).trigger("change")}}q.render()}return B.muted?q:q.trigger("set",A)},get:function(A,C){A=A||"value";if(u[A]!=null){return u[A]}if(A=="value"){return w.value}if(A in q.component.item){if(typeof C=="string"){var B=q.component.get(A);return B?g._.trigger(q.component.formats.toString,q.component,[C,B]):""}return q.component.get(A)}},on:function(C,G,B){var E,F,D=f.isPlainObject(C),A=D?C:{};if(C){if(!D){A[C]=G}for(E in A){F=A[E];if(B){E="_"+E}u.methods[E]=u.methods[E]||[];u.methods[E].push(F)}}return q},off:function(){var A,B,C=arguments;for(A=0,namesCount=C.length;A<namesCount;A+=1){B=C[A];if(B in u.methods){delete u.methods[B]}}return q},trigger:function(B,C){var A=function(D){var E=u.methods[D];if(E){E.map(function(F){g._.trigger(F,q,[C])})}};A("_"+B);A(B);return q}};function t(){return g._.node("div",g._.node("div",g._.node("div",g._.node("div",q.component.nodes(u.open),r.box),r.wrap),r.frame),r.holder)}function n(){m.data(z,q).addClass(r.input).val(m.data("value")?q.get("select",s.format):w.value).on("focus."+u.id+" click."+u.id,y);if(!s.editable){m.on("keydown."+u.id,function(B){var A=B.keyCode,C=/^(8|46)$/.test(A);if(A==27){q.close();return false}if(A==32||C||!u.open&&q.component.key[A]){B.preventDefault();B.stopPropagation();if(C){q.clear().close()}else{q.open()}}})}h(w,{haspopup:true,expanded:false,readonly:false,owns:w.id+"_root"+(q._hidden?" "+q._hidden.id:"")})}function o(){q.$root.on({focusin:function(A){q.$root.removeClass(r.focused);A.stopPropagation()},"mousedown click":function(A){var B=A.target;if(B!=q.$root.children()[0]){A.stopPropagation();if(A.type=="mousedown"&&!f(B).is(":input")&&B.nodeName!="OPTION"){A.preventDefault();w.focus()}}}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var B=f(this),D=B.data(),A=B.hasClass(r.navDisabled)||B.hasClass(r.disabled),C=document.activeElement;C=C&&(C.type||C.href)&&C;if(A||C&&!f.contains(q.$root[0],C)){w.focus()}if(!A&&D.nav){q.set("highlight",q.component.item.highlight,{nav:D.nav})}else{if(!A&&"pick" in D){q.set("select",D.pick).close(true)}else{if(D.clear){q.clear().close(true)}else{if(D.close){q.close(true)}}}}});h(q.$root[0],"hidden",true)}function x(){var A;if(s.hiddenName===true){A=w.name;w.name=""}else{A=[typeof s.hiddenPrefix=="string"?s.hiddenPrefix:"",typeof s.hiddenSuffix=="string"?s.hiddenSuffix:"_submit"];A=A[0]+w.name+A[1]}q._hidden=f('<input type=hidden name="'+A+'"'+(m.data("value")||w.value?' value="'+q.get("select",s.formatSubmit)+'"':"")+">")[0];m.on("change."+u.id,function(){q._hidden.value=w.value?q.get("select",s.formatSubmit):""}).after(q._hidden)}function y(A){A.stopPropagation();if(A.type=="focus"){q.$root.addClass(r.focused)}q.open()}return new l()}g.klasses=function(k){k=k||"picker";return{picker:k,opened:k+"--opened",focused:k+"--focused",input:k+"__input",active:k+"__input--active",holder:k+"__holder",frame:k+"__frame",wrap:k+"__wrap",box:k+"__box"}};function i(k){var l,m="position";if(k.currentStyle){l=k.currentStyle[m]}else{if(window.getComputedStyle){l=getComputedStyle(k)[m]}}return l=="fixed"}function c(){if(e.height()<=a.height()){return 0}var k=f('<div style="visibility:hidden;width:100px" />').appendTo("body");var m=k[0].offsetWidth;k.css("overflow","scroll");var n=f('<div style="width:100%" />').appendTo(k);var l=n[0].offsetWidth;k.remove();return m-l}g._={group:function(n){var k,m="",l=g._.trigger(n.min,n);for(;l<=g._.trigger(n.max,n,[l]);l+=n.i){k=g._.trigger(n.item,n,[l]);m+=g._.node(n.node,k[0],k[1],k[2])}return m},node:function(n,m,k,l){if(!m){return""}m=f.isArray(m)?m.join(""):m;k=k?' class="'+k+'"':"";l=l?" "+l:"";return"<"+n+k+l+">"+m+"</"+n+">"},lead:function(k){return(k<10?"0":"")+k},trigger:function(m,l,k){return typeof m=="function"?m.apply(l,k||[]):m},digits:function(k){return(/\d/).test(k[1])?2:1},isDate:function(k){return{}.toString.call(k).indexOf("Date")>-1&&this.isInteger(k.getUTCDate())},isInteger:function(k){return{}.toString.call(k).indexOf("Number")>-1&&k%1===0},ariaAttr:b};g.extend=function(l,k){f.fn[l]=function(m,o){var n=this.data(l);if(m=="picker"){return n}if(n&&typeof m=="string"){return g._.trigger(n[m],n,[o])}return this.each(function(){var p=f(this);if(!p.data(l)){new g(this,l,k,m)}})};f.fn[l].defaults=k.defaults};function h(l,m,n){if(f.isPlainObject(m)){for(var k in m){j(l,k,m[k])}}else{j(l,m,n)}}function j(k,l,m){k.setAttribute((l=="role"?"":"aria-")+l,m)}function b(n,o){if(!f.isPlainObject(n)){n={attribute:o}}o="";for(var m in n){var k=(m=="role"?"":"aria-")+m,l=n[m];o+=l==null?"":k+'="'+n[m]+'"'}return o}return g}));