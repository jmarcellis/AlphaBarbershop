(function(i,g){var m={rgb:{r:[0,255],g:[0,255],b:[0,255]},hsv:{h:[0,360],s:[0,100],v:[0,100]},hsl:{h:[0,360],s:[0,100],l:[0,100]},alpha:{alpha:[0,1]},HEX:{HEX:[0,16777215]}},a={},o={},e={r:0.298954,g:0.586434,b:0.114612},s={r:0.2126,g:0.7152,b:0.0722},q=i.Colors=function(u){this.colors={RND:{}};this.options={color:"rgba(204, 82, 37, 0.8)",grey:e,luminance:s,valueRanges:m};n(this,u||{})},n=function(y,w){var z,u=y.options,v;p(y);for(var x in w){if(w[x]!==g){u[x]=w[x]}}v=u.customBG;u.customBG=(typeof v==="string")?f.txt2color(v).rgb:v;o=c(y.colors,u.color,g,true)},p=function(u){if(a!==u){a=u;o=u.colors}};q.prototype.setColor=function(w,u,v){p(this);if(w){return c(this.colors,w,u,g,v)}else{if(v!==g){this.colors.alpha=v}return r(u)}};q.prototype.setCustomBackground=function(u){p(this);this.options.customBG=(typeof u==="string")?f.txt2color(u).rgb:u;return c(this.colors,g,"rgb")};q.prototype.saveAsBackground=function(){p(this);return c(this.colors,g,"rgb",true)};function c(u,v,w,x,y){if(typeof v==="string"){var v=f.txt2color(v);w=v.type;o[w]=v[w];y=y!==g?y:v.alpha}else{if(v){for(var z in v){u[w][z]=k(v[z]/m[w][z][1],0,1)}}}if(y!==g){u.alpha=+y}return r(w,x?u:g)}function b(u,w,y){var x=a.options.grey,v={};v.RGB={r:u.r,g:u.g,b:u.b};v.rgb={r:w.r,g:w.g,b:w.b};v.alpha=y;v.equivalentGrey=Math.round(x.r*u.r+x.g*u.g+x.b*u.b);v.rgbaMixBlack=t(w,{r:0,g:0,b:0},y,1);v.rgbaMixWhite=t(w,{r:1,g:1,b:1},y,1);v.rgbaMixBlack.luminance=d(v.rgbaMixBlack,true);v.rgbaMixWhite.luminance=d(v.rgbaMixWhite,true);if(a.options.customBG){v.rgbaMixCustom=t(w,a.options.customBG,y,1);v.rgbaMixCustom.luminance=d(v.rgbaMixCustom,true);a.options.customBG.luminance=d(a.options.customBG,true)}return v}function r(B,F){var H=F||o,G=f,A=a.options,z=m,J=H.RND,v,K="",M="",Q={hsl:"hsv",rgb:B},x=J.rgb,w,O;if(B!=="alpha"){for(var T in z){if(!z[T][T]){if(B!==T){M=Q[T]||"rgb";H[T]=G[M+"2"+T](H[M])}if(!J[T]){J[T]={}}v=H[T];for(K in v){J[T][K]=Math.round(v[K]*z[T][K][1])}}}x=J.rgb;H.HEX=G.RGB2HEX(x);H.equivalentGrey=A.grey.r*H.rgb.r+A.grey.g*H.rgb.g+A.grey.b*H.rgb.b;H.webSave=w=j(x,51);H.webSmart=O=j(x,17);H.saveColor=x.r===w.r&&x.g===w.g&&x.b===w.b?"web save":x.r===O.r&&x.g===O.g&&x.b===O.b?"web smart":"";H.hueRGB=f.hue2RGB(H.hsv.h);if(F){H.background=b(x,H.rgb,H.alpha)}}var u=H.rgb,D=H.alpha,S="luminance",P=H.background,I,y,E,N,R,L,C;I=t(u,{r:0,g:0,b:0},D,1);I[S]=d(I,true);H.rgbaMixBlack=I;y=t(u,{r:1,g:1,b:1},D,1);y[S]=d(y,true);H.rgbaMixWhite=y;if(A.customBG){C=t(u,P.rgbaMixCustom,D,1);C[S]=d(C,true);C.WCAG2Ratio=l(C[S],P.rgbaMixCustom[S]);H.rgbaMixBGMixCustom=C;C.luminanceDelta=Math.abs(C[S]-P.rgbaMixCustom[S]);C.hueDelta=h(P.rgbaMixCustom,C,true)}H.RGBLuminance=d(x);H.HUELuminance=d(H.hueRGB);if(A.convertCallback){A.convertCallback(H,B)}return H}var f={txt2color:function(v){var x={},z=v.replace(/(?:#|\)|%)/g,"").split("("),w=(z[1]||"").split(/,\s*/),y=z[1]?z[0].substr(0,3):"rgb",u="";x.type=y;x[y]={};if(z[1]){for(var A=3;A--;){u=y[A]||y.charAt(A);x[y][u]=+w[A]/m[y][u][1]}}else{x.rgb=f.HEX2rgb(z[0])}x.alpha=w[3]?+w[3]:1;return x},RGB2HEX:function(u){return((u.r<16?"0":"")+u.r.toString(16)+(u.g<16?"0":"")+u.g.toString(16)+(u.b<16?"0":"")+u.b.toString(16)).toUpperCase()},HEX2rgb:function(u){u=u.split("");return{r:parseInt(u[0]+u[u[3]?1:0],16)/255,g:parseInt(u[u[3]?2:1]+(u[3]||u[1]),16)/255,b:parseInt((u[4]||u[2])+(u[5]||u[2]),16)/255}},hue2RGB:function(u){var x=u*6,w=~~x%6,v=x===6?0:(x-w);return{r:Math.round([1,1-v,0,0,v,1][w]*255),g:Math.round([v,1,1,1-v,0,0][w]*255),b:Math.round([0,0,v,1,1,1-v][w]*255)}},rgb2hsv:function(w){var B=w.r,A=w.g,u=w.b,v=0,y,x,z;if(A<u){A=u+(u=A,0);v=-1}x=u;if(B<A){B=A+(A=B,0);v=-2/6-v;x=Math.min(A,u)}y=B-x;z=B?(y/B):0;return{h:z<1e-15?((o&&o.hsl&&o.hsl.h)||0):y?Math.abs(v+(A-u)/(6*y)):0,s:B?(y/B):((o&&o.hsv&&o.hsv.s)||0),v:B}},hsv2rgb:function(z){var y=z.h*6,E=z.s,C=z.v,x=~~y,A=y-x,w=C*(1-E),u=C*(1-A*E),D=C*(1-(1-A)*E),B=x%6;return{r:[C,u,w,w,D,C][B],g:[D,C,C,u,w,w][B],b:[w,w,D,C,C,u][B]}},hsv2hsl:function(v){var u=(2-v.s)*v.v,w=v.s*v.v;w=!v.s?0:u<1?(u?w/u:0):w/(2-u);return{h:v.h,s:!v.v&&!w?((o&&o.hsl&&o.hsl.s)||0):w,l:u/2}},rgb2hsl:function(v,w){var u=f.rgb2hsv(v);return f.hsv2hsl(w?u:(o.hsv=u))},hsl2rgb:function(E){var A=E.h*6,H=E.s,y=E.l,C=y<0.5?y*(1+H):(y+H)-(H*y),x=y+y-C,D=C?((C-x)/C):0,z=~~A,G=A-z,w=C*D*G,F=x+w,u=C-w,B=z%6;return{r:[C,u,x,x,F,C][B],g:[F,C,C,u,x,x][B],b:[x,x,F,C,C,u][B]}}};function j(u,y){var v={},w=0,x=y/2;for(var z in u){w=u[z]%y;v[z]=u[z]+(w>x?y-w:-w)}return v}function h(v,u,w){return(Math.max(v.r-u.r,u.r-v.r)+Math.max(v.g-u.g,u.g-v.g)+Math.max(v.b-u.b,u.b-v.b))*(w?255:1)/765}function d(w,y){var z=y?1:255,u=[w.r/z,w.g/z,w.b/z],v=a.options.luminance;for(var x=u.length;x--;){u[x]=u[x]<=0.03928?u[x]/12.92:Math.pow(((u[x]+0.055)/1.055),2.4)}return((v.r*u[0])+(v.g*u[1])+(v.b*u[2]))}function t(B,v,A,u){var z={},C=(A!==g?A:1),y=(u!==g?u:1),x=C+y*(1-C);for(var w in B){z[w]=(B[w]*C+v[w]*y*(1-C))/x}z.a=x;return z}function l(v,u){var w=1;if(v>=u){w=(v+0.05)/(u+0.05)}else{w=(u+0.05)/(v+0.05)}return Math.round(w*100)/100}function k(w,v,u){return(w>u?u:w<v?v:w)}})(window);